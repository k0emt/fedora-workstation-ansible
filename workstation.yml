---
- hosts: localhost
  become: no

  vars_files:
    - git_user_vars.yml
    - global_vars.yml

  pre_tasks:
    - name: Check if git_user_name is set to default
      set_fact:
        prompt_for_git_user_name: "{{ git_user_name == 'Set Your Git User Name' }}"

    - name: Prompt for Git user name
      pause:
        prompt: "Enter your name for Git"
      register: git_user_name_input
      when: prompt_for_git_user_name

    - name: Set Git user name from input
      set_fact:
        git_user_name: "{{ git_user_name_input.user_input }}"
      when: prompt_for_git_user_name

    - name: Check if git_user_email is set to default
      set_fact:
        prompt_for_git_user_email: "{{ git_user_email == 'set.your.email@example.com' }}"

    - name: Prompt for Git user email
      pause:
        prompt: "Enter your Git user email"
      register: git_user_email_input
      when: prompt_for_git_user_email

    - name: Set Git user email from input
      set_fact:
        git_user_email: "{{ git_user_email_input.user_input }}"
      when: prompt_for_git_user_email

  roles:
    - git_user
    - power_user
    - app_user
    # - developer
    - ai_researcher
    - database_engineer
